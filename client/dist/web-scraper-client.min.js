var WebScraperClient;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,u=void 0,u=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===r(u)?u:String(u)),o)}var i,u}e.r(t),e.d(t,{default:()=>a});var o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._meta=t,this._queries=r}var t,r,o;return t=e,r=[{key:"meta",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null==t?this._meta:null!==(e=this._meta[t])&&void 0!==e?e:void 0}},{key:"queryValues",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(e in this._queries))return t;var r=this._queries[e];return!1!==r.error||0>=r.values.length?t:r.values}},{key:"queryValue",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==(t=this.queryValues(e,[])[0])&&void 0!==t?t:r}}],r&&n(t.prototype,r),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,u=void 0,u=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(u)?u:String(u)),n)}var o,u}const a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._scraperEndpoint=t}var t,r,n;return t=e,r=[{key:"scrap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="url=".concat(encodeURIComponent(e));return"object"===i(t)&&0<Object.keys(t).length&&(n+="&xpathQueries=".concat(encodeURIComponent(JSON.stringify(t)))),"object"===i(r)&&0<Object.keys(r).length&&(n+="&cssQueries=".concat(encodeURIComponent(JSON.stringify(r)))),fetch("".concat(this._scraperEndpoint,"?").concat(n)).then((function(e){return e.json()})).then((function(e){if("OK"!==e.status||!1!==e.error)throw new Error("".concat(e.status||"ERR",": ").concat(e.error||"Error"));var t=e.result,r=t.meta,n=t.queries;return new o(r,n)}))}}],r&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();WebScraperClient=t})();